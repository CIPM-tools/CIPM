import "http://www.xtext.org/lua/Lua" as lua
import "http://palladiosimulator.org/PalladioComponentModel/5.2" as pcm

reactions: luaComponent
in reaction to changes in lua
execute actions in pcm

import luaComponent_basicComponent
import luaComponent_operationProvidedRole
import luaComponent_operationInterface

reaction AddedLuaComponent {
	after element lua::Component inserted in lua::ComponentSet[components]
	call {
		createBasicComponentForLuaComponent(newValue)
		createOperationInterfaceForLuaComponent(newValue)
		createOperationProvidedRoleForLuaComponent(newValue)
	}
}

reaction RemovedLuaComponent {
	after element lua::Component removed from lua::ComponentSet[components]
	call {
		removeOperationProvidedRoleForLuaComponent(oldValue)
		removeOperationInterfaceForLuaComponent(oldValue)
		removeBasicComponentForLuaComponent(oldValue)
	}
}